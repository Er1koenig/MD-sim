<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Atomistic Simulation of Alloy — Project Page</title>
  <meta name="description" content="Atomistic simulation of a CrCoNi medium-entropy alloy with a gradient nano‑grained structure under cryogenic tensile deformation, plus a robust grain‑rotation analysis pipeline." />
  <meta name="author" content="TAO Yuhao" />

  <!-- Fonts & icons to match your homepage -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Lora:ital,wght@0,600;0,700;1,600;1,700&family=Noto+Serif+SC:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-RhCeKEeyiLdZ28yY7mVt8XzfnOz2bNqsTP7PvpB3qHwD6PPV6cO9HcL7JQhN4F5m2dlHtb1zGuUHmXn4b8vLAw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Optional LaTeX rendering -->
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    /* ======= Theme tokens (aligned with your homepage) ======= */
    :root{
      --font-sans: "Inter", system-ui, -apple-system, "Segoe UI", "PingFang SC", "Hiragino Sans GB", "Noto Sans CJK SC", "Microsoft YaHei", Arial, sans-serif;
      --font-serif-head: "Lora", "Noto Serif SC", "Songti SC", STSong, Georgia, "Times New Roman", serif;

      --theme-color: #0b2f5b;            /* brand deep blue */
      --theme-color-light: #476d96;      /* link / hover */
      --theme-color-subtle: #e2e8f4;     /* chip bg (light) */

      --bg: #ffffff;                     /* page bg (light) */
      --text: #243447;                   /* main text */
      --muted: #5b6b7b;                  /* secondary */
      --surface: #fafbfd;                /* card bg */
      --border: rgba(11,47,91,.12);      /* soft border */
      --shadow: 0 1px 3px rgba(0,0,0,.05), 0 8px 20px rgba(0,0,0,.06);

      --step--1: clamp(0.88rem, 0.18vw + 0.82rem, 0.96rem);
      --step-0:  clamp(1.00rem, 0.22vw + 0.94rem, 1.08rem);
      --step-1:  clamp(1.125rem, 0.32vw + 1.02rem, 1.25rem);
      --step-2:  clamp(1.35rem, 0.6vw + 1.12rem, 1.55rem);
      --step-3:  clamp(1.62rem, 0.9vw + 1.24rem, 1.95rem);
      --step-4:  clamp(2.15rem, 1.6vw + 1.42rem, 2.6rem);
      --step-5:  clamp(2.8rem,  2.8vw + 1.6rem, 3.6rem);
    }

    /* Polished Dark Theme — mirrors homepage */
    :root.dark{
      color-scheme: dark;
      --bg: #0f1216;
      --text: #e7ebf1;
      --muted: #aab4c1;
      --surface: #131821;
      --border: #293240;
      --theme-color-subtle: color-mix(in srgb, var(--theme-color) 28%, #141a22);
      --shadow: 0 2px 8px rgba(0,0,0,.45), 0 10px 28px rgba(0,0,0,.35);
    }

    html{scroll-behavior:smooth}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font-family:var(--font-sans); font-size:var(--step-0); line-height:1.7; letter-spacing:.01em;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }

    a{ color: var(--theme-color-light); text-decoration: underline transparent 2px; text-underline-offset:3px; transition: color .2s, text-decoration-color .2s; }
    a:hover{ color: var(--theme-color); text-decoration-color: var(--theme-color); }

    h1,h2,h3,h4{ font-family:var(--font-serif-head); font-weight:600; line-height:1.22; letter-spacing:.006em; margin:0 0 .5rem; }
    h1{ font-size:var(--step-4); }
    h2{ font-size:var(--step-3); }
    h3{ font-size: clamp(1.08rem, 0.6vw + 1rem, 1.32rem); }

    .container{ max-width:1100px; margin:0 auto; padding: 1.2rem 1.2rem 0; }

    /* Theme button — fixed on top-right */
    .theme-btn{
      position: fixed; top: 14px; right: 16px; z-index: 1000;
      display:inline-flex; align-items:center; justify-content:center;
      width:36px; height:36px; border-radius:9999px;
      border:1px solid rgba(0,0,0,.12);
      background:rgba(255,255,255,.65);
      backdrop-filter: blur(8px) saturate(140%);
      -webkit-backdrop-filter: blur(8px) saturate(140%);
      cursor:pointer; font-size:1rem; line-height:1; color:#333;
      transition: background .2s, border-color .2s, transform .02s, opacity .2s; opacity:.95;
    }
    .theme-btn:hover{ opacity:1; border-color:rgba(0,0,0,.2) }
    .theme-btn:active{ transform: translateY(1px); }
    :root.dark .theme-btn{ background: rgba(20,24,31,.72); border-color: rgba(255,255,255,.12); color: var(--text); }

    /* ======= Sections ======= */
    section[id]{ scroll-margin-top: 24px; }
    .section{ padding: 1.6rem 0 2.2rem; }
    .section-title{ position:relative; font-size: var(--step-2); margin: 0 0 1rem; }
    .section-title::after{ content:""; position:absolute; left:0; bottom:-.45rem; width:3rem; height:3px; background:var(--theme-color); border-radius:1px; }

    .muted{ color: var(--muted); }
    .btns{ display:flex; flex-wrap:wrap; gap:.6rem; margin:.8rem 0 0; }
    .btn{ display:inline-flex; align-items:center; gap:.5rem; padding:.52rem .9rem; border-radius: 9px; text-decoration:none; font-weight:600; letter-spacing:.02em; border:1px solid currentColor; transition: transform .02s, background .2s, color .2s, border-color .2s; }
    .btn:active{ transform: translateY(1px); }
    .btn-primary{ color:#fff; background: var(--theme-color); border-color: transparent; }

    /* Media & Figures (large) */
    .video-wrap{ display:grid; place-items:center; margin:1rem 0 0; }
    video{ width:min(1000px, 95vw); height:auto; border-radius: 12px; border:1px solid var(--border); box-shadow: var(--shadow); }

    .fig{ background: var(--surface); border:1px solid var(--border); border-radius: 12px; box-shadow: var(--shadow); padding: .8rem; margin: 1.2rem 0; }
    .fig img{ width:min(1000px, 95vw); height:auto; display:block; margin:0 auto; border-radius:10px; }
    .fig .cap{ font-size:.95rem; color:var(--muted); margin:.5rem auto 0; max-width: min(980px, 92vw); }
    
    .gallery{ display:grid; gap: 1rem; }
  </style>
</head>
<body>
  <!-- floating theme switcher (no site header) -->
  <button id="theme-btn" class="theme-btn" type="button" aria-label="Theme: Light (click to change)" title="Theme: Light"><span id="theme-ico">☀︎</span></button>

  <main class="container">
    <!-- ================= Overview ================= -->
    <section id="overview" class="section">
      <h2 class="section-title">Part I — Paper Overview</h2>

      <p>
        Large-scale MD of a gradient nano-grained CrCoNi MEA under cryogenic tension (≈15% true strain) shows hardening and post-yield strain partitioning across grain-size zones. Grain-size-dependent stacking-fault activity evidences <strong>hetero‑deformation induced (HDI)</strong> hardening, and the <strong>gradient nano‑grained (GNG)</strong> architecture exceeds rule-of-mixtures predictions from homogeneous nano-grained cases.
      </p>

      <!-- Single occurrence of the paper PDF link -->
      <div class="btns">
        <a class="btn btn-primary" href="data/fmats-09-1118952.pdf" target="_blank" rel="noopener"><i class="fa-solid fa-file-pdf"></i> Full Paper (PDF)</a>
      </div>

      <div class="video-wrap">
        <video id="grainGrowthDemo" controls preload="metadata" poster="preview.png">
          <source src="image/mdsim_tensile.mp4" type="video/mp4" />
          Your browser does not support HTML5 video.
        </video>
      </div>

      <ul class="gallery" style="margin-top:1rem; list-style:none; padding:0;">
        <li class="fig">
          <div class="cap">GNG‑structured model under tensile strain. FCC atoms hidden; blue = HCP atoms, red = others.</div>
        </li>
      </ul>
    </section>

    <!-- ================= Rotation Algorithm ================= -->
    <section id="rotation" class="section">
      <h2 class="section-title">Part II — Grain Rotation Analysis Algorithm</h2>
      <p>
        We developed a pipeline that converts OVITO‑exported quaternions and LAMMPS dumps into
        <strong>per‑grain rotation metrics</strong> plus an <strong>OVITO‑verifiable point cloud</strong>.
        The pipeline is robust to twinning, grain‑boundary motion, and bent grains.
      </p>

      <div class="gallery">
        <figure class="fig">
          <img src="image/rot_evolution.png" alt="Absolute rotation angle vs. applied tensile strain" />
          <figcaption class="cap">Absolute rotation angle vs. applied tensile strain on a GNG‑structured model.</figcaption>
        </figure>
      </div>

      <div class="fig" style="padding:1rem;">
        <h3 style="margin:.2rem 0 .6rem;">What the Pipeline Does</h3>
        <ul style="margin:.2rem 0 0 1.1rem;">
          <li><strong>Global defect mask</strong>: flag atoms that are non‑FCC at least once and exclude them from stats.</li>
          <li><strong>Baseline orientation (0%)</strong>: normalize quaternion→angle (z‑axis) to avoid branch/symmetry jumps.</li>
          <li><strong>Per‑frame rotation</strong>: convert rotation quaternions to z‑angles; wrap to <code>[-45°, 45°]</code> (⟨001⟩ 90° symmetry).</li>
          <li><strong>Main‑peak selection</strong>: 5° grain‑wise histogram; pick adjacent dominant peak to suppress twins/noise.</li>
          <li><strong>Relative rotation</strong>: compute each grain’s mean difference to neighbors; aggregate by grain‑size zone.</li>
          <li><strong>OVITO verification</strong>: export only main‑peak atoms (<code>id, rot, x, y, z</code>) for color mapping.</li>
        </ul>
      </div>
    </section>

    <!-- ================= Figures ================= -->
    <section id="figures" class="section">
      <h2 class="section-title">Robust Algorithm for Twins, GB Motion, and Bent Grains</h2>
      <div class="gallery">
        <figure class="fig">
          <img src="image/twinning.png" alt="Twinning regions identified and trimmed by the main‑peak range" />
          <figcaption class="cap">Twinning regions are identified and trimmed via main‑peak range.</figcaption>
        </figure>

        <figure class="fig">
          <img src="image/gb_motion.png" alt="Grain boundary motion impact on rotation distribution" />
          <figcaption class="cap">FCC atoms of an adjacent grain are excluded to mitigate GB motion effects.</figcaption>
        </figure>

        <figure class="fig">
          <img src="image/bending.png" alt="Bent grains and their rotation spread handled by peak‑selection logic" />
          <figcaption class="cap">Bent grains and their broadened rotation spread are handled through the peak‑selection logic.</figcaption>
        </figure>
      </div>
    </section>
  </main>

  <!-- ======= Script: theme switch (no header, no scroll elevation) ======= -->
  <script>
    // === Single Button Theme Switcher (☀︎ → ☾ → ◐) ===
    (function(){
      const docEl = document.documentElement;
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)');
      const btn = document.getElementById('theme-btn');
      const ico = document.getElementById('theme-ico');
      const STORAGE_KEY = 'theme'; // 'light' | 'dark' | 'auto'

      const chars = { light: '☀︎', dark: '☾', auto: '◐' };
      const titles = {
        light: 'Theme: Light',
        dark:  'Theme: Dark',
        auto:  'Theme: Auto (follows system)'
      };

      function setIcon(mode){ if(!ico||!btn) return; ico.textContent = chars[mode]; btn.setAttribute('aria-label', titles[mode] + ' (click to change)'); btn.setAttribute('title', titles[mode]); btn.dataset.mode = mode; }
      function applyTheme(mode, persist = true){ const isDark = (mode === 'dark') || (mode === 'auto' && prefersDark.matches); docEl.classList.toggle('dark', isDark); setIcon(mode); if(persist) localStorage.setItem(STORAGE_KEY, mode); }
      function nextMode(cur){ if(cur==='light') return 'dark'; if(cur==='dark') return 'auto'; return 'light'; }

      const saved = localStorage.getItem(STORAGE_KEY) || 'light';
      applyTheme(saved, false);

      if(btn){ btn.addEventListener('click', () => { const cur = btn.dataset.mode || saved || 'light'; applyTheme(nextMode(cur)); }); }
      prefersDark.addEventListener('change', () => { const cur = localStorage.getItem(STORAGE_KEY) || 'light'; if(cur==='auto') applyTheme('auto', false); });
    })();
  </script>
</body>
</html>
